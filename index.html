<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D анимация с TWEEN.js</title>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/18.6.4/Tween.min.js"></script> <!-- Обновленный источник -->
</head>
<body>
    <script>
        // Проверим, загружена ли TWEEN.js
        if (typeof TWEEN === 'undefined') {
            console.error("TWEEN.js не загружен.");
        } else {
            console.log("TWEEN.js загружен успешно.");
        }

        // Настройка сцены
        var scene = new THREE.Scene();
        var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        var renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Создаем объект
        var geometry = new THREE.BoxGeometry();
        var material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
        var cube = new THREE.Mesh(geometry, material);
        scene.add(cube);

        // Устанавливаем позицию камеры
        camera.position.z = 5;

        // Анимация с использованием TWEEN.js
        function animate() {
            requestAnimationFrame(animate);

            // Проверяем, загружен ли TWEEN
            if (typeof TWEEN !== 'undefined') {
                TWEEN.update();  // Обновляем TWEEN анимации, только если библиотека доступна
            }

            // Добавляем анимацию с TWEEN (например, анимация вращения)
            var tween = new TWEEN.Tween(cube.rotation)
                .to({ x: cube.rotation.x + Math.PI }, 2000)  // Вращаем на 180 градусов
                .yoyo(true)
                .repeat(Infinity)
                .start();

            renderer.render(scene, camera);
        }

        // Запуск анимации
        animate();
    </script>
</body>
</html>
